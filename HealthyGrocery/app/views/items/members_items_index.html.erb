
<head>
<style>
icon{
font-size: 20px;
float:left;
border-width: thick;
border-style: dotted;
border-color: black;
}

navigationbar{
height:800px;
width:230px;
background:#FF9933;
font-size: 30px;
  float:left;
}

h1{


height:10px;
font-size: 40px;
width:100%;
position:relative;
  text-align:center;
  float:left;

}

table{
  margin:5px;
  padding: 5px;
  border:1px solid #0000ff;
  height:auto;
  width:auto;
  float:left;
  text-align:center;
background:orange;

}
s
opt
{

position:absolute;
width:130px;
height:50px;
-webkit-transition:width 0.4s; /* For Safari 3.1 to 6.0 */
transition:width 0.4s;
padding:50px;
left-margin:50px;
  text-align:center;
}

</style>

<script type="text/javascript">

</script>

</head>
<body>
<!-- Title for the page -->
<h1>Items as shown to members</h1>

<navigationbar>
  <h5>Filter for products </h5>
<%= form_tag '/items/members_items_index', :method => 'get' do %>
  <p>
    <opt>
    <span class="label label-important">Name :</span>
    <%= text_field_tag :name, params[:filter] %>
    </opt></br>
    <opt>
    <span class="label label-important">Category :</span>
    <%= text_field_tag :category, params[:filter] %>
    </opt></br>
    <opt>
    <span class="label label-important">Price :</span>
    <%= text_field_tag :price, params[:filter] %>
    </opt></br>
    <opt>
    <span class="label label-important">Rating :</span>
    <%= text_field_tag :rating, params[:filter] %>
    </opt></br>
    <opt>
    <%= radio_button_tag 'status', "available" %> <span class="badge badge-important">Available Only</span> 
    </opt></br>
    <opt>
    <%= radio_button_tag 'status', "all", :checked => true %> <span class="badge badge-important">All Products</span> 
    </opt></br>
    <%= submit_tag "Filter" %>
  </p>
<% end %>
</navigationbar>

<% if (params[:status] == 'available') %>
  <% @items = Item.where :name => params[:name], :category => params[:category], :price => params[:price], :rating => params[:rating], :status => true %>
  <% if (params[:name] == '') %>
  <% @items = Item.where :category => params[:category], :price => params[:price], :rating => params[:rating], :status => true %>
  <% end %>
  <% if (params[:category] == '') %>
  <% @items = Item.where :name => params[:name], :price => params[:price], :rating => params[:rating], :status => true %>
  <% end %>
  <% if (params[:price] == '') %>
  <% @items = Item.where :category => params[:category], :name => params[:name], :rating => params[:rating], :status => true %>
  <% end %>
  <% if (params[:rating] == '') %>
  <% @items = Item.where :category => params[:category], :name => params[:name], :price => params[:price], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') %>
  <% @items = Item.where :rating => params[:rating], :price => params[:price], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:price] == '') %>
  <% @items = Item.where :rating => params[:rating], :category => params[:category], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:rating] == '') %>
  <% @items = Item.where :category => params[:category], :price => params[:price], :status => true %>
  <% end %>
  <% if (params[:category] == '') && (params[:price] == '') %>
  <% @items = Item.where :name => params[:name], :rating => params[:rating], :status => true %>
  <% end %>
  <% if (params[:category] == '') && (params[:rating] == '') %>
  <% @items = Item.where :name => params[:rating], :price => params[:price], :status => true %>
  <% end %>
  <% if (params[:price] == '') && (params[:rating] == '') %>
  <% @items = Item.where :name => params[:name], :category => params[:category], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') && (params[:price] == '') %>
  <% @items = Item.where :rating => params[:rating], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') && (params[:rating] == '') %>
  <% @items = Item.where :price => params[:price], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:rating] == '') && (params[:price] == '') %>
  <% @items = Item.where :category => params[:category], :status => true %>
  <% end %>
  <% if (params[:rating] == '') && (params[:category] == '') && (params[:price] == '') %>
  <% @items = Item.where :name => params[:name], :status => true %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') && (params[:price] == '') && (params[:rating] == '') %>
  <% @items = Item.where :status => true %>
  <% end %>
<% else %>
  <% @items = Item.where :name => params[:name], :category => params[:category], :price => params[:price], :rating => params[:rating] %>
  <% if (params[:name] == '') %>
  <% @items = Item.where :category => params[:category], :price => params[:price], :rating => params[:rating] %>
  <% end %>
  <% if (params[:category] == '') %>
  <% @items = Item.where :name => params[:name], :price => params[:price], :rating => params[:rating] %>
  <% end %>
  <% if (params[:price] == '') %>
  <% @items = Item.where :category => params[:category], :name => params[:name], :rating => params[:rating] %>
  <% end %>
  <% if (params[:rating] == '') %>
  <% @items = Item.where :category => params[:category], :name => params[:name], :price => params[:price] %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') %>
  <% @items = Item.where :rating => params[:rating], :price => params[:price] %>
  <% end %>
  <% if (params[:name] == '') && (params[:price] == '') %>
  <% @items = Item.where :rating => params[:rating], :category => params[:category] %>
  <% end %>
  <% if (params[:name] == '') && (params[:rating] == '') %>
  <% @items = Item.where :category => params[:category], :price => params[:price] %>
  <% end %>
  <% if (params[:category] == '') && (params[:price] == '') %>
  <% @items = Item.where :name => params[:name], :rating => params[:rating] %>
  <% end %>
  <% if (params[:category] == '') && (params[:rating] == '') %>
  <% @items = Item.where :name => params[:rating], :price => params[:price] %>
  <% end %>
  <% if (params[:price] == '') && (params[:rating] == '') %>
  <% @items = Item.where :name => params[:name], :category => params[:category] %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') && (params[:price] == '') %>
  <% @items = Item.where :rating => params[:rating] %>
  <% end %>
  <% if (params[:name] == '') && (params[:category] == '') && (params[:rating] == '') %>
  <% @items = Item.where :price => params[:price] %>
  <% end %>
  <% if (params[:name] == '') && (params[:rating] == '') && (params[:price] == '') %>
  <% @items = Item.where :category => params[:category] %>
  <% end %>
  <% if (params[:rating] == '') && (params[:category] == '') && (params[:price] == '') %>
  <% @items = Item.where :name => params[:name] %>
  <% end %>
  <% if (params[:name] == '' || params[:name].nil?) && (params[:category] == '' || params[:category].nil?) && (params[:price] == '' || params[:price].nil?) && (params[:rating] == '' || params[:rating].nil?) %>
  <% @items = Item.all %>
  <% end %>
<% end %>
 

<% @items.each do |item| %>
  <icon>
    <img src= "<%= item.image%>" height=150 width=150></img></br>
    <td>Name: <%= item.name %></td> </br>
    <td>Price: <%= item.price %></td></br>
    <td>Category: <%= item.category %></td></br>
    <td>Stock: <%= item.amount %></td></br>
    <td>Available: <%= item.status %></td><br/>
    <td>Description: <%= item.description %></td></br>
    <td>Rating: <%= item.rating %></td></br>
    <textarea rows="1" cols="4"></textarea> KG  <button>Add to shopping cart</button></br>
    <button>Add to wishlist</button></br>
</icon>
<% end %>


</body>
